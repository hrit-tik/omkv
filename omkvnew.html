<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <script>
      if (!sessionStorage.getItem("verifiedPeacock")) {
        window.location.href = "verify.html";
      }
    </script>
    <title>omkvü¶ö</title>
    <style>
      body {
        margin: 0;
        font-family: 'Segoe UI', Tahoma, sans-serif;
        background: linear-gradient(to bottom right, #f0f9ff, #cbebff);
        color: #333;
      }

      h2 {
        text-align: center;
        padding: 20px 10px 5px;
        font-size: 2rem;
        color: #006994;
      }

      #info {
        text-align: center;
        padding: 8px 15px;
        margin: 0 auto 10px;
        display: inline-block;
        background: #e6f7ff;
        border: 1px solid #99d6ff;
        border-radius: 8px;
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
        transition: all 0.3s ease;
      }

      #info:hover {
        background: #cceeff;
        transform: scale(1.03);
      }

      #map {
        height: 420px;
        width: 90%;
        margin: 0 auto 30px;
        border-radius: 12px;
        overflow: hidden;
        border: 2px solid #99d6ff;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        transition: all 0.3s ease;
      }

      #map:hover {
        transform: scale(1.01);
        box-shadow: 0 6px 18px rgba(0, 0, 0, 0.2);
      }
    </style>
  </head>
  <body>
    <h2>‡¥Æ‡¥Ø‡¥ø‡¥≤‡¥ø‡¥®‡µç ‡¥á‡¥™‡µç‡¥™‡¥Ç ‡¥ì‡¥ü‡¥£‡¥Ç.</h2>
    <div id="info">Finding your location...</div>
    <div id="map"></div>

    <!-- Google Maps API -->
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAwPCdYDrcmOeMs1CdMqz8YWYYlXi38rWc&callback=initMap" async defer></script>
    
    <script>
      function initMap() {
        if (navigator.geolocation) {
          navigator.geolocation.getCurrentPosition(function(position) {
            const userPos = {
              lat: position.coords.latitude,
              lng: position.coords.longitude
            };

            const map = new google.maps.Map(document.getElementById('map'), {
              zoom: 15,
              center: userPos
            });

            new google.maps.Marker({
              position: userPos,
              map: map,
              label: "ü¶ö",
              title: "‡¥Æ‡¥Ø‡¥ø‡µΩ"
            });

            const fieldPos = {
              lat: userPos.lat + ((Math.random() - 0.5) / 500),
              lng: userPos.lng + ((Math.random() - 0.5) / 500)
            };

            new google.maps.Marker({
              position: fieldPos,
              map: map,
              label: {
                text: "üåæ",
                color: "green",
                fontSize: "20px"
              },
              title: "Nearest ‡¥ï‡¥£‡µç‡¥ü‡¥Ç"
            });

            document.getElementById("info").textContent =
              "‡¥ï‡¥£‡µç‡¥ü‡¥Ç ‡¥ï‡¥ø‡¥ü‡µç‡¥ü‡¥ø. ‡¥á‡¥®‡¥ø ‡¥ì‡¥ü‡µç ‡¥Æ‡¥Ø‡¥ø‡¥≤‡µÜ ‡¥ï‡¥£‡µç‡¥ü‡¥Ç¬†‡¥µ‡¥¥‡¥ø";
          }, function(error) {
            document.getElementById("info").textContent =
              "Error getting location: " + error.message;
          });
        } else {
          document.getElementById("info").textContent =
            "Geolocation not supported by your browser.";
        }
      }
    </script>
  </body>
</html>
